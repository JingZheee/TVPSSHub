<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Programs</title>
<script src="https://kit.fontawesome.com/af766576f4.js"
	crossorigin="anonymous"></script>
<link rel="stylesheet" th:href="@{/resources/css/general.css}">
<link rel="stylesheet" th:href="@{/resources/css/activity.css}">
<link rel="stylesheet" th:href="@{/resources/css/nav.css}">
</head>
<body>
	<div>
		<div th:insert="fragments/navbar :: navbar"></div>
	</div>
	<div class="content">
		<div class="header">
			<div>
				<a th:href="@{/activity/activityList}"><i class="fa-solid fa-angle-left">Back</i></a>
				<h2>Edit Programs</h2>
			</div>
		</div>
		<div class="form-container">
			<form th:action="@{/activity/editActivity/{id}(id=${activity.id})}" method="post">
				<!-- Activity Information Section -->
				<section class="info-section">
					<h2>Activity Information</h2>
					<div class="form-group">
						<label for="title">Title:</label>
						<input type="text" id="title" name="title" th:value="${activity.title}" required />
					</div>
					<div class="form-group">
						<label for="organizer">Organizer:</label>
						<input type="text" id="organizer" name="organizer" th:value="${activity.organizer}" required />
					</div>
					<div class="form-group">
						<label for="status">Status:</label>
						<select name="status">
							<option value="Preparation" th:selected="${activity.status == 'Preparation'}">Preparation</option>
							<option value="Ongoing" th:selected="${activity.status == 'Ongoing'}">Ongoing</option>
							<option value="Complete" th:selected="${activity.status == 'Complete'}">Complete</option>
							<option value="Cancel" th:selected="${activity.status == 'Cancel'}">Cancel</option>
						</select>
					</div>
					<div class="form-group">
						<label for="date">Date:</label>
						<input type="date" id="date" name="date" th:value="${activity.date}" required />
					</div>
					<div class="form-group">
						<label for="venue">Venue:</label>
						<input type="text" id="venue" name="venue" th:value="${activity.venue}" required />
					</div>
					<!-- District Dropdown -->
					<div class="form-group">
						<label for="district">District:</label>
						<select name="district">
							<option value="all" th:selected="${activity.district == 'all'}">All</option>
							<option value="Batu Pahat" th:selected="${activity.district == 'Batu Pahat'}">Batu Pahat</option>
							<option value="Johor Bahru" th:selected="${activity.district == 'Johor Bahru'}">Johor Bahru</option>
							<option value="Kluang" th:selected="${activity.district == 'Kluang'}">Kluang</option>
							<option value="Kota Tinggi" th:selected="${activity.district == 'Kota Tinggi'}">Kota Tinggi</option>
							<option value="Kulai" th:selected="${activity.district == 'Kulai'}">Kulai</option>
							<option value="Mersing" th:selected="${activity.district == 'Mersing'}">Mersing</option>
							<option value="Muar" th:selected="${activity.district == 'Muar'}">Muar</option>
							<option value="Pontian" th:selected="${activity.district == 'Pontian'}">Pontian</option>
							<option value="Segamat" th:selected="${activity.district == 'Segamat'}">Segamat</option>
							<option value="Tangkak" th:selected="${activity.district == 'Tangkak'}">Tangkak</option>
						</select>
					</div>

					<div class="form-group">
						<label for="targetLanguage">Target Language:</label>
						<input type="text" id="targetLanguage" name="targetLanguage" th:value="${activity.targetLanguage}" required />
					</div>
					<!-- Competition Level Dropdown -->
					<div class="form-group">
						<label for="competitionLevel">Competition Level:</label>
						<select name="competitionLevel">
							<option value="International" th:selected="${activity.competitionLevel == 'International'}">International</option>
							<option value="National" th:selected="${activity.competitionLevel == 'National'}">National</option>
							<option value="State" th:selected="${activity.competitionLevel == 'State'}">State</option>
							<option value="District" th:selected="${activity.competitionLevel == 'District'}">District</option>
							<option value="School" th:selected="${activity.competitionLevel == 'School'}">School</option>
						</select>
					</div>
					<div class="form-group">
						<label for="programDuration">Program Duration (days):</label>
						<input type="number" id="programDuration" name="programDuration" th:value="${activity.programDuration}" min="1" required />
					</div>
				</section>

				<!-- Participants Section -->
				<section class="participants-section">
					<h2>Participants</h2>
					<div class="form-group">
						<label for="primaryParticipants">Primary School:</label>
						<input type="number" id="participantsPrimary" name="participantsPrimary" th:value="${activity.participantsPrimary}" min="0" required />
					</div>
					<div class="form-group">
						<label for="secondaryParticipants">Secondary School:</label>
						<input type="number" id="participantsSecondary" name="participantsSecondary" th:value="${activity.participantsSecondary}" min="0" required />
					</div>
					<div class="form-group">
						<label for="openParticipants">Open:</label>
						<input type="number" id="openParticipants" name="participantsOpen" th:value="${activity.participantsOpen}" min="0" required />
					</div>
				</section>

				<!-- Description Section -->
				<section class="description-section">
					<h2>Description</h2>
					<div class="form-group">
						<label for="description">Activity Description:</label>
						<textarea id="description" name="description" rows="4" required th:text="${activity.description}"></textarea>
					</div>
				</section>

				<!-- Submit Button -->
				<div class="form-actions">
					<button type="submit" class="btn btn-primary" onclick="return confirmEdit()">Update</button>
				</div>
			</form>
		</div>
	</div>

	<script>
		// JavaScript function to show confirmation dialog
		function confirmEdit() {
			return confirm("Are you sure you want to edit this program?");
		}
	</script>
</body>
</html>
